/**
 * UIKit Buttons
 */

.btn {
    padding: var(--spacing-3) var(--spacing-4);
    border: var(--border-width) solid var(--color-border-medium);
    background: var(--color-bg-primary);
    border-radius: var(--border-radius-md);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-primary);
    cursor: pointer;
    transition: all var(--transition-base);
    text-align: center;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-2);
    line-height: 1;
    position: relative;
    white-space: nowrap;
}

.btn:hover:not(:disabled):not(.loading) {
    background: var(--color-bg-hover);
    border-color: var(--color-primary);
}

.btn:active:not(:disabled):not(.loading) {
    transform: translateY(1px);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Variants */

.btn-primary {
    background: var(--color-primary);
    color: var(--color-text-white);
    border-color: var(--color-primary);
}

.btn-primary:hover:not(:disabled) {
    background: var(--color-primary-hover);
    border-color: var(--color-primary-hover);
}

.btn-danger {
    background: var(--color-danger);
    color: var(--color-text-white);
    border-color: var(--color-danger);
}

.btn-danger:hover:not(:disabled) {
    background: #c73434;
    border-color: #c73434;
}

.btn-success {
    background: var(--color-success);
    color: var(--color-text-white);
    border-color: var(--color-success);
}

.btn-success:hover:not(:disabled) {
    background: #6da45c;
    border-color: #6da45c;
}

/* Sizes */

.btn-sm {
    padding: var(--spacing-2) var(--spacing-3);
    font-size: var(--font-size-sm);
}

.btn-lg {
    padding: var(--spacing-4) var(--spacing-6);
    font-size: var(--font-size-md);
}

/* Block */

.btn-block {
    width: 100%;
    display: flex;
}

/* === ICON SUPPORT === */

.btn-icon {
    font-size: var(--font-size-lg);
    line-height: 1;
}

/* Icon prefix/suffix */
.btn .icon-prefix {
    margin-right: calc(var(--spacing-2) * -1);
}

.btn .icon-suffix {
    margin-left: calc(var(--spacing-2) * -1);
}

/* Icon-only button (square) */
.btn-icon-only {
    padding: var(--spacing-3);
    aspect-ratio: 1;
}

.btn-icon-only.btn-sm {
    padding: var(--spacing-2);
}

.btn-icon-only.btn-lg {
    padding: var(--spacing-4);
}

/* === LOADING STATE === */

.btn.loading {
    cursor: wait;
    position: relative;
    color: transparent;
    pointer-events: none;
}

.btn.loading::after {
    content: "";
    position: absolute;
    width: 12px;
    height: 12px;
    top: 50%;
    left: 50%;
    margin-left: -6px;
    margin-top: -6px;
    border: 2px solid currentColor;
    border-radius: 50%;
    border-top-color: transparent;
    animation: btn-spinner 0.6s linear infinite;
    color: var(--color-text-primary);
}

.btn-primary.loading::after,
.btn-success.loading::after,
.btn-danger.loading::after {
    color: var(--color-text-white);
}

.btn.loading.btn-sm::after {
    width: 10px;
    height: 10px;
    margin-left: -5px;
    margin-top: -5px;
}

.btn.loading.btn-lg::after {
    width: 16px;
    height: 16px;
    margin-left: -8px;
    margin-top: -8px;
    border-width: 3px;
}

@keyframes btn-spinner {
    to {
        transform: rotate(360deg);
    }
}

/* === BUTTON GROUPS === */

.btn-group {
    display: inline-flex;
    gap: 0;
}

.btn-group .btn {
    border-radius: 0;
    margin-left: calc(var(--border-width) * -1);
}

.btn-group .btn:first-child {
    border-top-left-radius: var(--border-radius-md);
    border-bottom-left-radius: var(--border-radius-md);
    margin-left: 0;
}

.btn-group .btn:last-child {
    border-top-right-radius: var(--border-radius-md);
    border-bottom-right-radius: var(--border-radius-md);
}

.btn-group .btn:hover,
.btn-group .btn:focus {
    z-index: 1;
}

/* Button group vertical */
.btn-group-vertical {
    display: inline-flex;
    flex-direction: column;
    gap: 0;
}

.btn-group-vertical .btn {
    border-radius: 0;
    margin-top: calc(var(--border-width) * -1);
    width: 100%;
}

.btn-group-vertical .btn:first-child {
    border-top-left-radius: var(--border-radius-md);
    border-top-right-radius: var(--border-radius-md);
    margin-top: 0;
}

.btn-group-vertical .btn:last-child {
    border-bottom-left-radius: var(--border-radius-md);
    border-bottom-right-radius: var(--border-radius-md);
}

.btn-group-vertical .btn:hover,
.btn-group-vertical .btn:focus {
    z-index: 1;
}

/* === BUTTON VARIANTS ADDITIONNELS === */

/* Secondary button (outline) */
.btn-secondary {
    background: transparent;
    border-color: var(--color-border-dark);
    color: var(--color-text-primary);
}

.btn-secondary:hover:not(:disabled):not(.loading) {
    background: var(--color-bg-hover);
    border-color: var(--color-primary);
}

/* Ghost button (minimal) */
.btn-ghost {
    background: transparent;
    border-color: transparent;
    color: var(--color-text-primary);
}

.btn-ghost:hover:not(:disabled):not(.loading) {
    background: var(--color-bg-hover);
}

/* Link button */
.btn-link {
    background: transparent;
    border: none;
    color: var(--color-primary);
    padding: var(--spacing-2) var(--spacing-3);
    text-decoration: none;
}

.btn-link:hover:not(:disabled):not(.loading) {
    text-decoration: underline;
    background: transparent;
}

.btn-link:active:not(:disabled):not(.loading) {
    transform: none;
}

/* Warning button */
.btn-warning {
    background: var(--color-warning);
    color: var(--color-text-white);
    border-color: var(--color-warning);
}

.btn-warning:hover:not(:disabled):not(.loading) {
    background: #b37700;
    border-color: #b37700;
}

.btn-warning.loading::after {
    color: var(--color-text-white);
}

/* === OUTLINE VARIANTS === */

.btn-outline-primary {
    background: transparent;
    border-color: var(--color-primary);
    color: var(--color-primary);
}

.btn-outline-primary:hover:not(:disabled):not(.loading) {
    background: var(--color-primary);
    color: var(--color-text-white);
}

.btn-outline-secondary {
    background: transparent;
    border-color: var(--color-border-dark);
    color: var(--color-text-primary);
}

.btn-outline-secondary:hover:not(:disabled):not(.loading) {
    background: var(--color-bg-hover);
    border-color: var(--color-text-primary);
}

.btn-outline-success {
    background: transparent;
    border-color: var(--color-success);
    color: var(--color-success);
}

.btn-outline-success:hover:not(:disabled):not(.loading) {
    background: var(--color-success);
    color: var(--color-text-white);
}

.btn-outline-danger {
    background: transparent;
    border-color: var(--color-danger);
    color: var(--color-danger);
}

.btn-outline-danger:hover:not(:disabled):not(.loading) {
    background: var(--color-danger);
    color: var(--color-text-white);
}

.btn-outline-warning {
    background: transparent;
    border-color: var(--color-warning);
    color: var(--color-warning);
}

.btn-outline-warning:hover:not(:disabled):not(.loading) {
    background: var(--color-warning);
    color: var(--color-text-white);
}

/* === PILL VARIANT === */

.btn-pill {
    border-radius: 9999px;
}

.btn-group .btn-pill:first-child {
    border-top-left-radius: 9999px;
    border-bottom-left-radius: 9999px;
}

.btn-group .btn-pill:last-child {
    border-top-right-radius: 9999px;
    border-bottom-right-radius: 9999px;
}

/* ================================================
   ICON BUTTONS
   Boutons carres avec icone uniquement
   ================================================ */

/* Base icon button */
.icon-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    padding: 0;
    border: var(--border-width) solid transparent;
    border-radius: var(--border-radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
    position: relative;
    flex-shrink: 0;
}

.icon-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.icon-btn:active:not(:disabled) {
    transform: scale(0.95);
}

/* Icon inside button */
.icon-btn .icon {
    width: 16px;
    height: 16px;
}

/* === ICON BUTTON SIZES === */

.icon-btn-sm {
    width: 24px;
    height: 24px;
}

.icon-btn-sm .icon {
    width: 12px;
    height: 12px;
}

/* === ICON BUTTON VARIANTS === */

/* Main - fond noir */
.icon-btn-main {
    background: var(--color-text-primary);
    border-color: var(--color-text-primary);
    color: var(--color-bg-primary);
}

.icon-btn-main:hover:not(:disabled) {
    background: var(--color-text-secondary);
    border-color: var(--color-text-secondary);
}

.icon-btn-main:active:not(:disabled) {
    background: var(--color-text-tertiary);
    border-color: var(--color-text-tertiary);
}

/* Inverted - fond blanc, bordure noire */
.icon-btn-inverted {
    background: var(--color-bg-primary);
    border-color: var(--color-text-primary);
    color: var(--color-text-primary);
}

.icon-btn-inverted:hover:not(:disabled) {
    background: var(--color-bg-primary);
    border-color: var(--color-text-primary);
    box-shadow: inset 0 0 0 1px var(--color-text-primary);
}

.icon-btn-inverted:active:not(:disabled) {
    background: var(--color-bg-primary);
    border-color: var(--color-text-primary);
    box-shadow: inset 0 0 0 2px var(--color-text-primary);
}

/* Secondary - fond gris */
.icon-btn-secondary {
    background: var(--color-bg-tertiary);
    border-color: var(--color-bg-tertiary);
    color: var(--color-text-primary);
}

.icon-btn-secondary:hover:not(:disabled) {
    background: var(--color-bg-hover);
    border-color: var(--color-bg-hover);
}

.icon-btn-secondary:active:not(:disabled) {
    background: var(--color-border-light);
    border-color: var(--color-border-light);
}

/* Outline - bordure grise */
.icon-btn-outline {
    background: transparent;
    border-color: var(--color-border-medium);
    color: var(--color-text-primary);
}

.icon-btn-outline:hover:not(:disabled) {
    background: var(--color-bg-hover);
    border-color: var(--color-border-dark);
}

.icon-btn-outline:active:not(:disabled) {
    background: var(--color-bg-tertiary);
    border-color: var(--color-text-tertiary);
}

/* Ghost - sans fond ni bordure */
.icon-btn-ghost {
    background: transparent;
    border-color: transparent;
    color: var(--color-text-secondary);
}

.icon-btn-ghost:hover:not(:disabled) {
    background: var(--color-bg-hover);
    color: var(--color-text-primary);
}

.icon-btn-ghost:active:not(:disabled) {
    background: var(--color-bg-tertiary);
    color: var(--color-text-primary);
}
